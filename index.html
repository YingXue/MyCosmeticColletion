<!DOCTYPE html>
<html>
<head>
 	<link rel="shortcut icon" type="image/x-icon" href="pictures/Site-logo.png" />
	<title>CosmeticDiary</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
	<script src="https://code.highcharts.com/highcharts.js"></script>
	<script src="myApp.js"></script>
	<script src="myCtrl.js"></script>
</head>

<body>

<nav class="navbar navbar-default">
	<div class="container-fluid">
		<div class="navbar-header">
			<a class="navbar-brand" href="index.html">				
				<img src="pictures/Site-logo.png" alt ="COSMETIC DAIRY" height = "35">
			</a>
		</div>
		<div class="collpas nav-bar-collapse">
			<ur class = "nav navbar-nav">
				<li> <a href="about.html"><img src="pictures/About-logo.png" alt ="About" height = "35"></a></li>
			</ur>
			<ur class = "nav navbar-nav">
				<li> <a href="#"><img src="pictures/Sephora-logo.jpg" alt ="Sephora" height = "35"></a></li>
			</ur>
			<ur class = "nav navbar-nav">
				<li> <a href="#"><img src="pictures/Fifth-logo.png" alt ="Saks Fifth Avenue" height = "35"></a></li>
			</ur>
			<ur class = "nav navbar-nav">
				<li> <a href="#"><img src="pictures/Dealmoon-logo.png" alt ="Dealmoon" height = "35"></a></li>
			</ur>
			<ur class = "nav navbar-nav">
				<li> <a href="#"> <img src="pictures/YouTube-logo.png" alt ="Youtube" height = "35"></a></li>
			</ur>
		</div>
	</div>
</nav>
<div ng-app="myApp" ng-controller="myCtrl">
	<div class="container">
		<div class="row">
			<!-- New stuff bought -->
			<div class="col-sm-3">
				<div class="panel panel-default">
					<div class="panel-heading"> 拔草 </div>
					<div class="panel-body">
						<form>
							<div class="form-group row">
							<img src="pictures/Shopping-cart-logo.png" alt ="About" height = "240">
							<div align="center"> 		
							<img src="pictures/plus.png" alt ="About" height = "40" ng-click = "showPurchaseForms()" ng-show="showPurchaseButton">
							</div> 
							</div>
							<div ng-show="showPurchaseForm">
								<div class="form-group row">
								<label  class="col-sm-3 col-form-label">Name</label>
									<div class="col-sm-9">
									<input type="text" ng-model="productName"><br>
									</div>
								</div>
								<div class="form-group row">
									<label  class="col-sm-3 col-form-label">Price</label>
									<div class="col-sm-9">
									<input type="number" name="priceTag" ng-model="productPrice">
									</div>
								</div>	
								<div class="form-group row">
									<label  class="col-sm-3 col-form-label">Catalog</label>
									<div class="col-sm-9">
									<select style='width:175px' ng-model="productCatalog" ng-options ="x.catalog for x in productOwned"></select>
									</div>
								</div>	
								<br>
								<div align="center">
									<button class="btn btn-default" type="submit" ng-click = "showPurchaseNow()"> That's it! </button> 
									<button class="btn btn-default" type="submit" ng-click = "cancelPurchase()"> Cancel! </button> 
								</div>
							</div>
						</form>
					</div>
				</div>
			</div>
			<!-- Stuff already bought -->
			<div class="col-sm-7">
				<div class="panel panel-default">
					<div class="panel-heading"> 草地 </div>
					<div class="panel-body">
						<h2>{{history()}}</h2><br>
						<table class="table table-striped">
							<tr>
								<th>Product</th>
								<th>Catalog</th>
								<th>Price</th>
							</tr>
						 	<tr ng-repeat="x in productOwned">
						    	<td>{{ x.name }}</td>
						    	<td>{{ x.catalog }}</td>
						    	<td>${{ x.price }}</td>
						  	</tr>
						</table>
					</div>
				</div>
				<div class="panel panel-default">				
					<div class="panel-body">
						<div id="chartContainer"></div>
					</div>
				</div>
				
			</div>
			<!-- Stuff in the wishinglist -->
			<div class="col-sm-2">
				<div class="panel panel-default">
					<div class="panel-heading"> 种草 </div>
					<div class="panel-body">
						<div>
							<p><a href="#">Interests</a></p>
							<p>
								<span class="label label-default">La Mer</span>
					 			<span class="label label-primary">Dior</span>
					 			<span class="label label-success">ColorPop</span>
					 			<span class="label label-info">Chanel</span>
					 			<span class="label label-warning">Givenchy</span>
					 			<span class="label label-danger">NARS</span>
							</p>
					 	</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
</body>
<script type="text/javascript">   
	function drawHighChart(){
		console.log("test");
	    var chartInfo = {
	        chart: {
	        type: 'column'
	        },

	        title: {
	            text: 'Total expense, grouped by catalog'
	        },

	        xAxis: {
	            categories: [
	                    'Jan',
	                    'Feb',
	                    'Mar',
	                    'Apr',
	                    'May',
	                    'Jun',
	                    'Jul',
	                    'Aug',
	                    'Sep',
	                    'Oct',
	                    'Nov',
	                    'Dec'
	                ],
	            crosshair: true
	        },

	        yAxis: {
	            allowDecimals: false,
	            min: 0,
	            title: {
	                text: 'Expense ($)'
	            }
	        },

	        tooltip: {
	            formatter: function () {
	                return '<b>' + this.x + '</b><br/>' +
	                    this.series.name + ': ' + this.y + '<br/>' +
	                    'Total: ' + this.point.stackTotal;
	            }
	        },

	        plotOptions: {
	            column: {
	                stacking: 'normal'
	            }
	        },

	        series: [{
	            name: 'cosmetics / eye',
	            data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4],
	            stack: 'cosmetics'
	            },{
	            name: 'cosmetics / face',
	            data: [49.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1, 95.6, 54.4],
	            stack: 'cosmetics'
	        }, {
	            name: 'skin care / face',
	            data: [83.6, 78.8, 98.5, 93.4, 106.0, 84.5, 105.0, 104.3, 91.2, 83.5, 106.6, 92.3],
	            stack: 'skin care'
	        }
	        , {
	            name: 'skin care / eye',
	            data: [83.6, 0, 98.5, 93.4, 106.0, 84.5, 10.5, 5, 91.2, 83.5, 106.6, 70],
	            stack: 'skin care'
	        }]
	    };
	    $('#chartContainer').highcharts(chartInfo);
	}
    drawHighChart();
    
</script>
</html>